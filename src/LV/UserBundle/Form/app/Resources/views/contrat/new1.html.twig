{% extends 'base.html.twig' %}
{% block menu %}
<div class="subnavbar">
  <div class="subnavbar-inner">
    <div class="container">
      <ul class="mainnav">
        <li><a href="{{path('accueil')}}"><i class="icon-dashboard"></i><span>Tableau de Bord</span> </a> </li>
        <li><a href="{{path('voiture_index')}}"><i class="fa fa-automobile"></i><span>Vehicule</span> </a> </li>
        <li><a href="{{path('client_index')}}"><i class="shortcut-icon icon-user"></i><span>Client</span> </a></li>
        <li><a href="{{path('reservation_index')}}"><i class="shortcut-icon icon-save"></i><span>Reservation</span> </a> </li>
        <li class="active"><a href="{{path('csr_index')}}"><i class="shortcut-icon icon-edit"></i><span>Contrat</span> </a> </li>
        <li><a href="{{path('paiement_index')}}"><i class="shortcut-icon icon-random"></i><span>Paiement</span> </a> </li>
        <li><a href="{{path('facture_index')}}"><i class="shortcut-icon icon-list-alt"></i><span>Facture</span> </a> </li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
{% block body %}
<div class="main">
  <div class="main-inner">
    <div class="container">
      <div class="row">
        <div class="span12">
<h1><center>Ajouter un Contrat</center></h1>  
<div class="content-wrapper">
    <section class="content-header">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ path('accueil') }}"><i class="fa fa-dashboard"></i> Accueil</a></li>
        <li  class="breadcrumb-item"><a href="{{ path('contrat_index') }}"><i class="fa fa-car"></i>/ Contrat</a></li>
        <li  class="breadcrumb-item active">/ Ajouter un Contrat</li>
      </ol>
    </section>
           <div align="right" class="form-group" style="margin-right:110px;">
                <div class="input-group">
                  <h4 class="text-center"><a href="{{ path('contrat_index') }}" role="button" class="btn btn-info btn-sm">Retour à  la Liste</a></h4>
                </div>
            </div>
   <br>
<div class="row">

    {{ form_start(form) }}
      <div class="span3" style="background-color:#F2F3F4;padding:25px;mapping:25px;border:1px solid #BDC3C7;"> 
        <div>
           <div>{{ form_label(form.numContrat) }}</div>
           {{ form_errors(form.numContrat) }}
           <div>{{ form_widget(form.numContrat,{'attr': {'readonly' : true}}) }}</div>
        </div>
        <div>
           <div>{{ form_label(form.dateContrat) }}</div>
              {{ form_errors(form.dateContrat) }}
            <div>{{ form_widget(form.dateContrat,{'attr': {'readonly' : true}}) }}</div>
        </div>
		<div> Matricule : <input type="text" required="required" value="{{ matricule }}" readonly/></div>
        <div style="display: none">
           <div>{{ form_label(form.refReservation) }}</div>
           {{ form_errors(form.refReservation) }}
           <div>{{ form_widget(form.refReservation,{'attr': {'class':'chosen-select', 'readonly' : true}}) }}</div>
        </div>
		<div>
           <div>Date Debut : <input type="text" required="required" value="{{ dd | date('d-m-Y') }}" readonly/></div>
        </div>
        <div>
           <div>Date Fin : <input type="text" required="required" value="{{ df | date('d-m-Y') }}" readonly/></div>
        </div>
        <br>
      </div> 
      <div class="span3" style="background-color:#F2F3F4;padding:25px;mapping:25px;border:1px solid #BDC3C7;"> 
	    <div>
           <div>{{ form_label(form.conducteur1,'Conducteur 1' ) }}</div>
           {{ form_errors(form.conducteur1) }}
           <div> {{ form_widget(form.conducteur1,{'attr': {'class':'chosen-select'}}) }}
		      {#<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#new_client">
		      <i class="fa fa-plus-circle" aria-hidden="true"></i></button> #}                 
		   </div>
        </div><br>
        <div>
           <div>{{ form_label(form.conducteur2,'Conducteur 2' ) }}</div>
           {{ form_errors(form.conducteur2) }}
           <div> {{ form_widget(form.conducteur2,{'attr': {'class':'chosen-select'}}) }}
		      {#<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#new_client">
			  <i class="fa fa-plus-circle" aria-hidden="true"></i></button>#}
           </div>
        </div><br>
        <div>
           <div>{{ form_label(form.tarif) }}</div> 
           {{ form_errors(form.tarif) }}
           <div> {{ form_widget(form.tarif, { 'attr': {'onkeyup': 'calcultarif()'}}) }}</div>
        </div>
        <div>
           <div>{{ form_label(form.nbreJour,'Nombre de jour' ) }}</div>
           {{ form_errors(form.nbreJour) }}
           <div>{{ form_widget(form.nbreJour,{'attr': {'readonly' : true}}) }}</div>
        </div>
        <div>
           <div>{{ form_label(form.recette,'Montant Total ') }}</div>
           {{ form_errors(form.recette) }}
           <div>{{ form_widget(form.recette) }}</div>
        </div>
        <div><input type="hidden" required="required" value="{{ duree }}" readonly/></div>
  
      </div>
      <div class="span3" style="background-color:#F2F3F4;padding:25px;mapping:25px;border:1px solid #BDC3C7;"> 
        
        <div>
           {{ form_errors(form.kmDepart) }}
           <div>km Départ : {{ form_widget(form.kmDepart) }}</div>
        </div>
        <div>
           {{ form_errors(form.niveauCarburant) }}
           <div>Niveau Carburant : {{ form_widget(form.niveauCarburant) }}</div>
        </div>
        <div>
           {{ form_errors(form.etat) }}
           <div>Etat de voiture : {{ form_widget(form.etat) }}</div>
        </div><br><br><br><br><br><br>
      </div> 
	  
        <div class="row">
        <div class="span12" align="right"><br>
            <input type="submit" class="btn btn-success" value="Créer un Contrat" />
        </div>
        </div>
    {{ form_end(form) }}
</div>
</div>
</div>
</div>
</div>
</div>
</div>
{% endblock %}
{% block javascripts %}

   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
 function calcultarif() {

    var a = $('#lv_locationbundle_contrat_tarif').val();
    var b = parseInt($('#lv_locationbundle_contrat_nbreJour').val());
    var result = $("#lv_locationbundle_contrat_recette");
    var d = a*b;
    result.val(d);
        };

    </script>
    
{% endblock %}